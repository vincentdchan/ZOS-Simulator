{"version":3,"sources":["webpack:///webpack/bootstrap e4b943d8f0c01c6e2900","webpack:///./src/Windows/Window.js","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./src/index.js","webpack:///./src/Windows/WindowsManager.js","webpack:///./src/Emitter.js","webpack:///./src/stylesheets/main.scss?1325","webpack:///./src/stylesheets/main.scss","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./node_modules/htmlparser/lib/htmlparser.js","webpack:///./src/TextEditor/TextEditor.js","webpack:///./src/stylesheets/textEditor.scss?93ee","webpack:///./src/stylesheets/textEditor.scss","webpack:///./src/Files/FileWindow.js","webpack:///./src/Files/FileItem.js","webpack:///./src/stylesheets/file.scss?ab42","webpack:///./src/stylesheets/file.scss","webpack:///./src/ProgramExecutor/ProgramExecutor.js","webpack:///./src/stylesheets/programExecutor.scss?ee4f","webpack:///./src/stylesheets/programExecutor.scss","webpack:///./src/VirtualLine.js"],"names":["htmlparser","Component","value","_dom","_slot","$refs","template","handle","DefaultHandler","error","dom","console","parser","Parser","parseComplete","doms","vListToDomList","vlist","map","dom_node","type","document","createTextNode","data","name","createElement","attribs","slot_name","setAttribute","attr_key","attr_value","forEach","appendChild","log","TitleBar","window_template","Window","wm","RenderTemplate","x","y","width","height","title","titleBarPressed","_focused","zIndex","zIndexCounter","windowsID","GetNewId","addEventListener","id","focus","unfocus","window","event","onMouseMove","titlebar","e","onTitleBarMouseUp","onTitleBarMouseDown","onMouseDown","classList","add","remove","FocusWindow","clientX","lastOffset","clientY","_title","innerText","_x","style","left","_y","top","_width","_height","_zIndex","require","VirtualLine","measure_font","canvas","getElementById","innerWidth","innerHeight","ctx","getContext","fillStyle","fillRect","font","text","measureText","font_width","font_height","virtuallines","Initialize","virtuallines_length","Math","ceil","i","vl","push","lastTime","Date","accuTime","tick","now","deltaTime","getTime","v","paint","requestAnimationFrame","my_window","pe","fw","world","WindowsManager","_id_counter","_focused_id","emit","Emitter","_map","callback","args","Array","prototype","slice","call","arguments","apply","undefined","TextEditor","Slot","FileWindow","fi1","fileType","filename","fi2","fileContainer","setState","path","target","FileItem","_fileType","iconimg","_filename","source_code","ProgramExecutor","frame","programFrame","runBtn","onRunClicked","pauseBtn","onPauseClicked","stopBtn","onStopClicked","stepForwardBtn","onStepForwardClicked","resources","ShuffleString","str","len","result","str_len","length","rd","round","random","total_level","black_level","x_offset","_x_offset","_font_width","_font_height","_content","_tick","_offset_step","text_length","absolute_level","color_level","green_level","shadowColor","shadowOffsetX","shadowOffsetY","shadowBlur","toString","fillText","test_level"],"mappings":"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C;AACD;AACA,CAAC;;AAED;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA,mBAAmB,2BAA2B;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,mBAAmB;AACnC;AACA;;AAEA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;;AAEA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd,kDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AA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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAsC;AACtC;AACA,wCAAwC;AACxC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC;AACjC,wCAAwC;AACxC,8BAA8B;AAC9B,8CAA8C;;AAE9C;AACA;AACA;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC,kCAAkC;AAClC,iCAAiC;AACjC,gCAAgC;AAChC,oCAAoC;AACpC,uCAAuC;AACvC,+BAA+B;AAC/B,4BAA4B;AAC5B,mCAAmC;AACnC,iDAAiD;AACjD,mCAAmC;AACnC,iDAAiD;AACjD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD,mEAAmE;;AAEnE;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,+BAA+B;AAC/B,0EAA0E;AAC1E;AACA;AACA,WAAW;AACX,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA,8EAA8E;AAC9E;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC,SAAS,OAAO;AAChB;AACA;AACA,QAAQ,OAAO;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA,0CAA0C;AAC1C;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,QAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yCAAyC,kEAAkE;AAC3G;AACA;;AAEA;AACA,cAAc;AACd;;AAEA,8DAA8D,2CAA2C,EAAE;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA,KAAK,aAAa;AAClB;AACA;AACA,KAAK,aAAa;AAClB;AACA;AACA,KAAK,aAAa;AAClB;AACA;AACA,KAAK,aAAa;AAClB;AACA;AACA,KAAK,aAAa;AAClB;AACA;AACA;AACA;AACA;AACA,MAAM,aAAa;AACnB;AACA;AACA,MAAM,aAAa;AACnB;AACA;AACA,MAAM,aAAa;AACnB;AACA;AACA,MAAM,aAAa;AACnB;AACA;AACA,MAAM,aAAa;AACnB;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA,KAAK,aAAa;AAClB;AACA;AACA,KAAK,aAAa;AAClB;AACA;AACA,KAAK,aAAa;AAClB;AACA;AACA,KAAK,aAAa;AAClB;AACA;AACA,KAAK,aAAa;AAClB;AACA;AACA,KAAK,aAAa;AAClB;AACA;AACA;AACA;AACA;AACA,MAAM,aAAa;AACnB;AACA;AACA,MAAM,aAAa;AACnB;AACA;AACA,MAAM,aAAa;AACnB;AACA;AACA,MAAM,aAAa;AACnB;AACA;AACA,MAAM,aAAa;AACnB;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,sCAAsC;AACtC;AACA,yCAAyC;AACzC;AACA,+BAA+B;AAC/B;AACA,wCAAwC;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;AACA;AACA;AACA;AACA;AACA;AACA,E;AACA;AACA;AACA,E;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAA0C;AAC1C,2CAA2C;AAC3C,wCAAwC;AACxC,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,wCAAwC;AACxC;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,6BAA6B,2BAA2B,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,sCAAsC,SAAS;AAC/C;AACA;;AAEA;AACA,gCAAgC,iBAAiB;AACjD;;AAEA;AACA,gCAAgC,iBAAiB;AACjD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,CAAC;;;;;;;;;;;;;;;;ACjzBD;;AACA;;;;;;;;;;+eANA;;;;;AAQA,IAAMtH,iUAAN;;IAQa8H,U,WAAAA,U;;;AAET,wBAAY/F,EAAZ,EAAgB;AAAA;;AAAA,4HACNA,EADM;;AAEZ,cAAKgG,IAAL,CAAU,SAAV,EAAqB,MAAK/F,cAAL,CAAoBhC,QAApB,CAAr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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e4b943d8f0c01c6e2900","/************************ \n * Author: DZ Chan \n * Date:   2017-08-12 \n ************************/\n\nimport style from \"../stylesheets/main.scss\"\nimport * as htmlparser from \"htmlparser\"\n\nexport class Component {\n\n    set dom(value) {\n        this._dom = value;\n    }\n\n    get dom() {\n        return this._dom;\n    }\n\n    constructor() {\n        this._slot = {};\n        this.$refs = {};\n    }\n\n    RenderTemplate(template) {\n        let handle = new htmlparser.DefaultHandler((error, dom) => {\n            if (error) {\n                console.error(error);\n            }\n        })\n\n        let parser = new htmlparser.Parser(handle);\n        parser.parseComplete(template);\n        // console.log(JSON.stringify(handle.dom, null, 2));\n        let doms = this.vListToDomList(handle.dom);\n        return doms[0];\n    }\n\n    vListToDomList(vlist) {\n        return vlist.map((dom_node) => {\n            switch(dom_node.type) {\n                case \"text\":\n                    return document.createTextNode(dom_node.data);\n                case \"tag\":\n                    let dom;\n                    if (dom_node.name == \"slot\") {\n                        dom = document.createElement(\"div\");\n                        if (\"attribs\" in dom_node && \"name\" in dom_node.attribs) {\n                            let slot_name = dom_node.attribs.name;\n                            this._slot[slot_name] = dom;\n                            dom.setAttribute('data-slot-name', slot_name);\n                        } else {\n                            this._slot['default'] = dom;\n                            dom.setAttribute('data-slot-name', 'default');\n                        }\n                    } else {\n                        dom = document.createElement(dom_node.name);\n                        for (let attr_key in dom_node.attribs) {\n                            if (attr_key == 'ref') {\n                                let attr_value = dom_node.attribs[attr_key];\n                                this.$refs[attr_value] = dom;\n                            } else {\n                                let attr_value = dom_node.attribs[attr_key];\n                                dom.setAttribute(attr_key, attr_value);\n                            }\n                        }\n                        if ('children' in dom_node) {\n                            this.vListToDomList(dom_node['children']).forEach((value) => {\n                                dom.appendChild(value);\n                            })\n                        }\n                    }\n                    return dom;\n                case \"comment\":\n                    break;\n                case \"script\":\n                    break;\n                default:\n                    console.log(dom_node);\n            }\n        })\n    }\n\n    Slot(name, value) {\n        this._slot[name].appendChild(value);\n    }\n\n}\n\nclass TitleBar extends Component {\n\n    Render() {\n    }\n\n}\n\nconst window_template = `<div class=\"window\" ref=\"frame\">\n    <div class=\"titleBar unselectable\" ref=\"titlebar\">\n        <div class=\"right\">\n            <i class=\"fa fa-window-close\" aria-hidden=\"true\"></i>\n        </div>\n        <p class=\"name\" ref=\"title_content\"></p>\n    </div>\n    <div>\n        <slot name=\"default\" />\n    </div>\n</div>`\n\nexport class Window extends Component {\n\n    constructor(wm) {\n        super();\n        this._dom = this.RenderTemplate(window_template);\n\n        this.x = 16;\n        this.y = 16;\n        this.width = 400;\n        this.height = 300;\n        this.title = \"Window\";\n        this.titleBarPressed = false;\n        this._focused = false;\n        this.wm = wm;\n        this.zIndex = this.wm.zIndexCounter();\n\n        this.windowsID = this.wm.GetNewId();\n        this.wm.addEventListener(\"focusedWindowChanged\", (id) => {\n            if (id === this.windowsID) {\n                this.focus();\n            } else {\n                this.unfocus();\n            }\n        });\n        window.addEventListener(\"mousemove\", (event) => this.onMouseMove(event));\n\n        this.$refs.titlebar.addEventListener('mouseup', (e) => this.onTitleBarMouseUp(e));\n        this.$refs.titlebar.addEventListener('mousedown', (e) => this.onTitleBarMouseDown(e));\n        this._dom.addEventListener('mousedown', (e) => this.onMouseDown(e));\n    }\n\n    focus() {\n        if (!this._focused) {\n            this._focused = true;\n            this.zIndex = this.wm.zIndexCounter(); \n            this._dom.classList.add('glowing-border');\n        }\n    }\n\n    unfocus() {\n        this._focused = false;\n        this._dom.classList.remove('glowing-border');\n    }\n\n    onMouseDown(event) {\n        this.wm.FocusWindow(this.windowsID);\n    }\n\n    onMouseMove(event) {\n        if (this.titleBarPressed) {\n            this.x = event.clientX - this.lastOffset.x,\n            this.y = event.clientY - this.lastOffset.y,\n            this.lastOffset = {\n                x: event.clientX - this.x,\n                y: event.clientY - this.y,\n            };\n        }\n    }\n\n    onTitleBarMouseDown(event) {\n        this.titleBarPressed = true;\n        this.lastOffset = {\n            x: event.clientX - this.x,\n            y: event.clientY - this.y,\n        };\n\n        this.zIndex = this.wm.zIndexCounter();\n    }\n\n    onTitleBarMouseUp(event) {\n        this.titleBarPressed = false;\n    }\n\n    get title() {\n        return this._title;\n    }\n\n    set title(value) {\n        if (this._title != value) {\n            this.$refs['title_content'].innerText = value;\n            this._title = value;\n        }\n    }\n\n    get x() {\n        return this._x;\n    }\n\n    set x(value) {\n        if (this._x !== value) {\n            this._x = value;\n            this._dom.style.left = value + 'px';\n        }\n    }\n\n    get y() {\n        return this._y;\n    }\n\n    set y(value) {\n        if (this._y !== value) {\n            this._y = value;\n            this._dom.style.top = value + 'px';\n        }\n    }\n\n    get width() {\n        return this._width;\n    }\n\n    set width(value) {\n        if (this._width !== value) {\n            this._width = value;\n            this._dom.style.width = value + 'px' ;\n        }\n    }\n\n    get height() {\n        return this._height;\n    }\n\n    set height(value) {\n        if (this._height !== value) {\n            this._height = value;\n            this._dom.style.height = value + 'px';\n        }\n    }\n\n    get zIndex() {\n        return this._zIndex;\n    }\n\n    set zIndex(value) {\n        if (this._zIndex !== value) {\n            this._zIndex = value;\n            this._dom.style.zIndex = value;\n        }\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Windows/Window.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader/lib/css-base.js\n// module id = 1\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(selector) {\n\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\tmemo[selector] = fn.call(this, selector);\n\t\t}\n\n\t\treturn memo[selector]\n\t};\n})(function (target) {\n\treturn document.querySelector(target)\n});\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton) options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/style-loader/lib/addStyles.js\n// module id = 2\n// module chunks = 0","/************************ \n * Author: DZ Chan \n * Date:   2017-08-12 \n ************************/\n\nconst {VirtualLine}  = require(\"./VirtualLine.js\")\nimport {WindowsManager} from \"./Windows/WindowsManager.js\"\nimport {Window, Component} from \"./Windows/Window\"\nimport {TextEditor} from \"./TextEditor/TextEditor\"\nimport {FileWindow} from \"./Files/FileWindow\"\nimport {ProgramExecutor} from \"./ProgramExecutor/ProgramExecutor\"\n\nconst measure_font = \"船\";\n\ndocument.addEventListener(\"DOMContentLoaded\", function(event) { \n    const canvas = document.getElementById(\"main-canvas\");\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n\n    const ctx = canvas.getContext(\"2d\");\n\n    ctx.fillStyle = \"black\";\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.fillStyle = \"green\";\n    ctx.font = \"12px Microsoft YaHei\";\n\n    const text = ctx.measureText(measure_font);\n    const font_width = text.width;\n    const font_height = text.height;\n\n    let virtuallines = [];\n\n    function Initialize() {\n        virtuallines = [];\n\n        let virtuallines_length = Math.ceil(canvas.width / font_width);\n\n        for (let i = 0; i < virtuallines_length; i++) {\n            let vl = new VirtualLine(i * (font_width + 2), font_width, canvas.height, font_width, 20);\n            virtuallines.push(vl);\n        }\n    }\n\n    window.addEventListener(\"resize\", (e) => {\n        canvas.width = window.innerWidth;\n        canvas.height = window.innerHeight;\n        Initialize();\n    })\n\n    Initialize();\n\n    let lastTime = new Date();\n    let accuTime = 0;\n\n    function tick() {\n        const now = new Date();\n        const deltaTime = (now.getTime() - lastTime.getTime()) / 1000;\n\n        accuTime += deltaTime;\n\n        if (accuTime > 0.08) {\n            ctx.fillStyle = \"black\";\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            virtuallines.forEach((v) => {\n                v.paint(ctx, deltaTime);\n            })\n            accuTime = 0;\n        }\n\n        lastTime = now;\n\n        requestAnimationFrame(tick);\n    };\n\n    tick();\n\n    let wm = new WindowsManager();\n\n    // ReactDOM.render(<div>\n    //     <TextEditor \n    //         titleName=\"Untitled 2\"\n    //         windowsManager={wm} />\n    //     <FileWindow \n    //         titleName=\"File Manager\"\n    //         windowsManager={wm} />\n    //     <ProgramExecutor \n    //         titleName=\"ProgramExecutor\"\n    //         windowsManager={wm} />\n    // </div>,\n    //     document.getElementById('world'));\n    let my_window = new TextEditor(wm);\n    let pe = new ProgramExecutor(wm);\n    let fw = new FileWindow(wm);\n\n    let world = document.getElementById('world');\n    world.appendChild(my_window.dom);\n    world.appendChild(pe.dom);\n    world.appendChild(fw.dom);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/************************ \n * Author: DZ Chan \n * Date:   2017-08-12 \n ************************/\n\nimport {Emitter} from \"../Emitter\"\n\nexport class WindowsManager extends Emitter {\n\n    constructor() {\n        super();\n\n        this._id_counter = 0;\n        this._focused_id = 0;\n\n        let zIndex = 0;\n        this.zIndexCounter = function () {\n            return zIndex++;\n        };\n    }\n\n    GetZIndexCounter() {\n        return this.zIndexCounter;\n    }\n\n    FocusWindow(id) {\n        this._focused_id = id;\n        this.emit(\"focusedWindowChanged\", id);\n    }\n\n    GetFocusedId() {\n        return this._focused_id;\n    }\n\n    GetNewId() {\n        return this._id_counter++;\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Windows/WindowsManager.js","/************************ \n * Author: DZ Chan \n * Date:   2017-08-12 \n ************************/\n\nexport class Emitter {\n\n    constructor() {\n        this._map = {}\n    }\n\n    addEventListener(name, callback) {\n        if (name in this._map) {\n            this._map[name].push(callback);\n        } else {\n            this._map[name] = [callback];\n        }\n    }\n\n    emit() {\n        let args = Array.prototype.slice.call(arguments);\n        let name = args[0];\n        args = args.slice(1);\n        if (name in this._map) {\n            this._map[name].forEach(v => v.apply(undefined, args))\n        }\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Emitter.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./main.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./main.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./main.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/stylesheets/main.scss\n// module id = 7\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".unselectable {\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n  -khtml-user-select: none;\\n  -moz-user-select: none;\\n  -ms-user-select: none;\\n  user-select: none; }\\n\\n.undraggable {\\n  user-drag: none;\\n  user-select: none;\\n  -moz-user-select: none;\\n  -webkit-user-drag: none;\\n  -webkit-user-select: none;\\n  -ms-user-select: none; }\\n\\n* {\\n  box-sizing: border-box; }\\n\\n.col-1 {\\n  width: 8.33%; }\\n\\n.col-2 {\\n  width: 16.66%; }\\n\\n.col-3 {\\n  width: 25%; }\\n\\n.col-4 {\\n  width: 33.33%; }\\n\\n.col-5 {\\n  width: 41.66%; }\\n\\n.col-6 {\\n  width: 50%; }\\n\\n.col-7 {\\n  width: 58.33%; }\\n\\n.col-8 {\\n  width: 66.66%; }\\n\\n.col-9 {\\n  width: 75%; }\\n\\n.col-10 {\\n  width: 83.33%; }\\n\\n.col-11 {\\n  width: 91.66%; }\\n\\n.col-12 {\\n  width: 100%; }\\n\\n[class*=\\\"col-\\\"] {\\n  float: left; }\\n\\n.row::after {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n\\n.glowing-border {\\n  outline: none;\\n  border-color: #9ecaed;\\n  box-shadow: 0 0 20px #49afff; }\\n\\n.window {\\n  position: fixed;\\n  background-color: white;\\n  border-style: solid;\\n  border-width: 2px;\\n  border-color: white; }\\n  .window .titleBar {\\n    width: 100%;\\n    background-color: lightblue;\\n    height: 16px; }\\n    .window .titleBar .name {\\n      font-size: 14px;\\n      color: black;\\n      margin: 0px;\\n      cursor: default; }\\n    .window .titleBar p {\\n      line-height: 16px; }\\n  .window .right {\\n    position: absolute;\\n    right: 0px;\\n    font-size: 14px;\\n    line-height: 16px; }\\n  .window .right:hover {\\n    background-color: white;\\n    color: lightblue; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/sass-loader/lib/loader.js!./src/stylesheets/main.scss\n// module id = 8\n// module chunks = 0","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/style-loader/lib/urls.js\n// module id = 9\n// module chunks = 0","/***********************************************\nCopyright 2010, 2011, Chris Winberry <chris@winberry.net>. All rights reserved.\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to\ndeal in the Software without restriction, including without limitation the\nrights to use, copy, modify, merge, publish, distribute, sublicense, and/or\nsell copies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\nIN THE SOFTWARE.\n***********************************************/\n/* v1.7.6 */\n\n(function () {\n\nfunction runningInNode () {\n\treturn(\n\t\t(typeof require) == \"function\"\n\t\t&&\n\t\t(typeof exports) == \"object\"\n\t\t&&\n\t\t(typeof module) == \"object\"\n\t\t&&\n\t\t(typeof __filename) == \"string\"\n\t\t&&\n\t\t(typeof __dirname) == \"string\"\n\t\t);\n}\n\nif (!runningInNode()) {\n\tif (!this.Tautologistics)\n\t\tthis.Tautologistics = {};\n\telse if (this.Tautologistics.NodeHtmlParser)\n\t\treturn; //NodeHtmlParser already defined!\n\tthis.Tautologistics.NodeHtmlParser = {};\n\texports = this.Tautologistics.NodeHtmlParser;\n}\n\n//Types of elements found in the DOM\nvar ElementType = {\n\t  Text: \"text\" //Plain text\n\t, Directive: \"directive\" //Special tag <!...>\n\t, Comment: \"comment\" //Special tag <!--...-->\n\t, Script: \"script\" //Special tag <script>...</script>\n\t, Style: \"style\" //Special tag <style>...</style>\n\t, Tag: \"tag\" //Any tag that isn't special\n}\n\nfunction Parser (handler, options) {\n\tthis._options = options ? options : { };\n\tif (this._options.includeLocation == undefined) {\n\t\tthis._options.includeLocation = false; //Do not track element position in document by default\n\t}\n\n\tthis.validateHandler(handler);\n\tthis._handler = handler;\n\tthis.reset();\n}\n\n\t//**\"Static\"**//\n\t//Regular expressions used for cleaning up and parsing (stateless)\n\tParser._reTrim = /(^\\s+|\\s+$)/g; //Trim leading/trailing whitespace\n\tParser._reTrimComment = /(^\\!--|--$)/g; //Remove comment tag markup from comment contents\n\tParser._reWhitespace = /\\s/g; //Used to find any whitespace to split on\n\tParser._reTagName = /^\\s*(\\/?)\\s*([^\\s\\/]+)/; //Used to find the tag name for an element\n\n\t//Regular expressions used for parsing (stateful)\n\tParser._reAttrib = //Find attributes in a tag\n\t\t/([^=<>\\\"\\'\\s]+)\\s*=\\s*\"([^\"]*)\"|([^=<>\\\"\\'\\s]+)\\s*=\\s*'([^']*)'|([^=<>\\\"\\'\\s]+)\\s*=\\s*([^'\"\\s]+)|([^=<>\\\"\\'\\s\\/]+)/g;\n\tParser._reTags = /[\\<\\>]/g; //Find tag markers\n\n\t//**Public**//\n\t//Methods//\n\t//Parses a complete HTML and pushes it to the handler\n\tParser.prototype.parseComplete = function Parser$parseComplete (data) {\n\t\tthis.reset();\n\t\tthis.parseChunk(data);\n\t\tthis.done();\n\t}\n\n\t//Parses a piece of an HTML document\n\tParser.prototype.parseChunk = function Parser$parseChunk (data) {\n\t\tif (this._done)\n\t\t\tthis.handleError(new Error(\"Attempted to parse chunk after parsing already done\"));\n\t\tthis._buffer += data; //FIXME: this can be a bottleneck\n\t\tthis.parseTags();\n\t}\n\n\t//Tells the parser that the HTML being parsed is complete\n\tParser.prototype.done = function Parser$done () {\n\t\tif (this._done)\n\t\t\treturn;\n\t\tthis._done = true;\n\t\n\t\t//Push any unparsed text into a final element in the element list\n\t\tif (this._buffer.length) {\n\t\t\tvar rawData = this._buffer;\n\t\t\tthis._buffer = \"\";\n\t\t\tvar element = {\n\t\t\t\t  raw: rawData\n\t\t\t\t, data: (this._parseState == ElementType.Text) ? rawData : rawData.replace(Parser._reTrim, \"\")\n\t\t\t\t, type: this._parseState\n\t\t\t\t};\n\t\t\tif (this._parseState == ElementType.Tag || this._parseState == ElementType.Script || this._parseState == ElementType.Style)\n\t\t\t\telement.name = this.parseTagName(element.data);\n\t\t\tthis.parseAttribs(element);\n\t\t\tthis._elements.push(element);\n\t\t}\n\t\n\t\tthis.writeHandler();\n\t\tthis._handler.done();\n\t}\n\n\t//Resets the parser to a blank state, ready to parse a new HTML document\n\tParser.prototype.reset = function Parser$reset () {\n\t\tthis._buffer = \"\";\n\t\tthis._done = false;\n\t\tthis._elements = [];\n\t\tthis._elementsCurrent = 0;\n\t\tthis._current = 0;\n\t\tthis._next = 0;\n\t\tthis._location = {\n\t\t\t  row: 0\n\t\t\t, col: 0\n\t\t\t, charOffset: 0\n\t\t\t, inBuffer: 0\n\t\t};\n\t\tthis._parseState = ElementType.Text;\n\t\tthis._prevTagSep = '';\n\t\tthis._tagStack = [];\n\t\tthis._handler.reset();\n\t}\n\t\n\t//**Private**//\n\t//Properties//\n\tParser.prototype._options = null; //Parser options for how to behave\n\tParser.prototype._handler = null; //Handler for parsed elements\n\tParser.prototype._buffer = null; //Buffer of unparsed data\n\tParser.prototype._done = false; //Flag indicating whether parsing is done\n\tParser.prototype._elements =  null; //Array of parsed elements\n\tParser.prototype._elementsCurrent = 0; //Pointer to last element in _elements that has been processed\n\tParser.prototype._current = 0; //Position in data that has already been parsed\n\tParser.prototype._next = 0; //Position in data of the next tag marker (<>)\n\tParser.prototype._location = null; //Position tracking for elements in a stream\n\tParser.prototype._parseState = ElementType.Text; //Current type of element being parsed\n\tParser.prototype._prevTagSep = ''; //Previous tag marker found\n\t//Stack of element types previously encountered; keeps track of when\n\t//parsing occurs inside a script/comment/style tag\n\tParser.prototype._tagStack = null;\n\n\t//Methods//\n\t//Takes an array of elements and parses any found attributes\n\tParser.prototype.parseTagAttribs = function Parser$parseTagAttribs (elements) {\n\t\tvar idxEnd = elements.length;\n\t\tvar idx = 0;\n\t\n\t\twhile (idx < idxEnd) {\n\t\t\tvar element = elements[idx++];\n\t\t\tif (element.type == ElementType.Tag || element.type == ElementType.Script || element.type == ElementType.style)\n\t\t\t\tthis.parseAttribs(element);\n\t\t}\n\t\n\t\treturn(elements);\n\t}\n\n\t//Takes an element and adds an \"attribs\" property for any element attributes found \n\tParser.prototype.parseAttribs = function Parser$parseAttribs (element) {\n\t\t//Only parse attributes for tags\n\t\tif (element.type != ElementType.Script && element.type != ElementType.Style && element.type != ElementType.Tag)\n\t\t\treturn;\n\t\n\t\tvar tagName = element.data.split(Parser._reWhitespace, 1)[0];\n\t\tvar attribRaw = element.data.substring(tagName.length);\n\t\tif (attribRaw.length < 1)\n\t\t\treturn;\n\t\n\t\tvar match;\n\t\tParser._reAttrib.lastIndex = 0;\n\t\twhile (match = Parser._reAttrib.exec(attribRaw)) {\n\t\t\tif (element.attribs == undefined)\n\t\t\t\telement.attribs = {};\n\t\n\t\t\tif (typeof match[1] == \"string\" && match[1].length) {\n\t\t\t\telement.attribs[match[1]] = match[2];\n\t\t\t} else if (typeof match[3] == \"string\" && match[3].length) {\n\t\t\t\telement.attribs[match[3].toString()] = match[4].toString();\n\t\t\t} else if (typeof match[5] == \"string\" && match[5].length) {\n\t\t\t\telement.attribs[match[5]] = match[6];\n\t\t\t} else if (typeof match[7] == \"string\" && match[7].length) {\n\t\t\t\telement.attribs[match[7]] = match[7];\n\t\t\t}\n\t\t}\n\t}\n\n\t//Extracts the base tag name from the data value of an element\n\tParser.prototype.parseTagName = function Parser$parseTagName (data) {\n\t\tif (data == null || data == \"\")\n\t\t\treturn(\"\");\n\t\tvar match = Parser._reTagName.exec(data);\n\t\tif (!match)\n\t\t\treturn(\"\");\n\t\treturn((match[1] ? \"/\" : \"\") + match[2]);\n\t}\n\n\t//Parses through HTML text and returns an array of found elements\n\t//I admit, this function is rather large but splitting up had an noticeable impact on speed\n\tParser.prototype.parseTags = function Parser$parseTags () {\n\t\tvar bufferEnd = this._buffer.length - 1;\n\t\twhile (Parser._reTags.test(this._buffer)) {\n\t\t\tthis._next = Parser._reTags.lastIndex - 1;\n\t\t\tvar tagSep = this._buffer.charAt(this._next); //The currently found tag marker\n\t\t\tvar rawData = this._buffer.substring(this._current, this._next); //The next chunk of data to parse\n\t\n\t\t\t//A new element to eventually be appended to the element list\n\t\t\tvar element = {\n\t\t\t\t  raw: rawData\n\t\t\t\t, data: (this._parseState == ElementType.Text) ? rawData : rawData.replace(Parser._reTrim, \"\")\n\t\t\t\t, type: this._parseState\n\t\t\t};\n\t\n\t\t\tvar elementName = this.parseTagName(element.data);\n\t\n\t\t\t//This section inspects the current tag stack and modifies the current\n\t\t\t//element if we're actually parsing a special area (script/comment/style tag)\n\t\t\tif (this._tagStack.length) { //We're parsing inside a script/comment/style tag\n\t\t\t\tif (this._tagStack[this._tagStack.length - 1] == ElementType.Script) { //We're currently in a script tag\n\t\t\t\t\tif (elementName.toLowerCase() == \"/script\") //Actually, we're no longer in a script tag, so pop it off the stack\n\t\t\t\t\t\tthis._tagStack.pop();\n\t\t\t\t\telse { //Not a closing script tag\n\t\t\t\t\t\tif (element.raw.indexOf(\"!--\") != 0) { //Make sure we're not in a comment\n\t\t\t\t\t\t\t//All data from here to script close is now a text element\n\t\t\t\t\t\t\telement.type = ElementType.Text;\n\t\t\t\t\t\t\t//If the previous element is text, append the current text to it\n\t\t\t\t\t\t\tif (this._elements.length && this._elements[this._elements.length - 1].type == ElementType.Text) {\n\t\t\t\t\t\t\t\tvar prevElement = this._elements[this._elements.length - 1];\n\t\t\t\t\t\t\t\tprevElement.raw = prevElement.data = prevElement.raw + this._prevTagSep + element.raw;\n\t\t\t\t\t\t\t\telement.raw = element.data = \"\"; //This causes the current element to not be added to the element list\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (this._tagStack[this._tagStack.length - 1] == ElementType.Style) { //We're currently in a style tag\n\t\t\t\t\tif (elementName.toLowerCase() == \"/style\") //Actually, we're no longer in a style tag, so pop it off the stack\n\t\t\t\t\t\tthis._tagStack.pop();\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (element.raw.indexOf(\"!--\") != 0) { //Make sure we're not in a comment\n\t\t\t\t\t\t\t//All data from here to style close is now a text element\n\t\t\t\t\t\t\telement.type = ElementType.Text;\n\t\t\t\t\t\t\t//If the previous element is text, append the current text to it\n\t\t\t\t\t\t\tif (this._elements.length && this._elements[this._elements.length - 1].type == ElementType.Text) {\n\t\t\t\t\t\t\t\tvar prevElement = this._elements[this._elements.length - 1];\n\t\t\t\t\t\t\t\tif (element.raw != \"\") {\n\t\t\t\t\t\t\t\t\tprevElement.raw = prevElement.data = prevElement.raw + this._prevTagSep + element.raw;\n\t\t\t\t\t\t\t\t\telement.raw = element.data = \"\"; //This causes the current element to not be added to the element list\n\t\t\t\t\t\t\t\t} else { //Element is empty, so just append the last tag marker found\n\t\t\t\t\t\t\t\t\tprevElement.raw = prevElement.data = prevElement.raw + this._prevTagSep;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else { //The previous element was not text\n\t\t\t\t\t\t\t\tif (element.raw != \"\") {\n\t\t\t\t\t\t\t\t\telement.raw = element.data = element.raw;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (this._tagStack[this._tagStack.length - 1] == ElementType.Comment) { //We're currently in a comment tag\n\t\t\t\t\tvar rawLen = element.raw.length;\n\t\t\t\t\tif (element.raw.charAt(rawLen - 2) == \"-\" && element.raw.charAt(rawLen - 1) == \"-\" && tagSep == \">\") {\n\t\t\t\t\t\t//Actually, we're no longer in a style tag, so pop it off the stack\n\t\t\t\t\t\tthis._tagStack.pop();\n\t\t\t\t\t\t//If the previous element is a comment, append the current text to it\n\t\t\t\t\t\tif (this._elements.length && this._elements[this._elements.length - 1].type == ElementType.Comment) {\n\t\t\t\t\t\t\tvar prevElement = this._elements[this._elements.length - 1];\n\t\t\t\t\t\t\tprevElement.raw = prevElement.data = (prevElement.raw + element.raw).replace(Parser._reTrimComment, \"\");\n\t\t\t\t\t\t\telement.raw = element.data = \"\"; //This causes the current element to not be added to the element list\n\t\t\t\t\t\t\telement.type = ElementType.Text;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse //Previous element not a comment\n\t\t\t\t\t\t\telement.type = ElementType.Comment; //Change the current element's type to a comment\n\t\t\t\t\t}\n\t\t\t\t\telse { //Still in a comment tag\n\t\t\t\t\t\telement.type = ElementType.Comment;\n\t\t\t\t\t\t//If the previous element is a comment, append the current text to it\n\t\t\t\t\t\tif (this._elements.length && this._elements[this._elements.length - 1].type == ElementType.Comment) {\n\t\t\t\t\t\t\tvar prevElement = this._elements[this._elements.length - 1];\n\t\t\t\t\t\t\tprevElement.raw = prevElement.data = prevElement.raw + element.raw + tagSep;\n\t\t\t\t\t\t\telement.raw = element.data = \"\"; //This causes the current element to not be added to the element list\n\t\t\t\t\t\t\telement.type = ElementType.Text;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\telement.raw = element.data = element.raw + tagSep;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t//Processing of non-special tags\n\t\t\tif (element.type == ElementType.Tag) {\n\t\t\t\telement.name = elementName;\n\t\t\t\tvar elementNameCI = elementName.toLowerCase();\n\t\t\t\t\n\t\t\t\tif (element.raw.indexOf(\"!--\") == 0) { //This tag is really comment\n\t\t\t\t\telement.type = ElementType.Comment;\n\t\t\t\t\tdelete element[\"name\"];\n\t\t\t\t\tvar rawLen = element.raw.length;\n\t\t\t\t\t//Check if the comment is terminated in the current element\n\t\t\t\t\tif (element.raw.charAt(rawLen - 1) == \"-\" && element.raw.charAt(rawLen - 2) == \"-\" && tagSep == \">\")\n\t\t\t\t\t\telement.raw = element.data = element.raw.replace(Parser._reTrimComment, \"\");\n\t\t\t\t\telse { //It's not so push the comment onto the tag stack\n\t\t\t\t\t\telement.raw += tagSep;\n\t\t\t\t\t\tthis._tagStack.push(ElementType.Comment);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (element.raw.indexOf(\"!\") == 0 || element.raw.indexOf(\"?\") == 0) {\n\t\t\t\t\telement.type = ElementType.Directive;\n\t\t\t\t\t//TODO: what about CDATA?\n\t\t\t\t}\n\t\t\t\telse if (elementNameCI == \"script\") {\n\t\t\t\t\telement.type = ElementType.Script;\n\t\t\t\t\t//Special tag, push onto the tag stack if not terminated\n\t\t\t\t\tif (element.data.charAt(element.data.length - 1) != \"/\")\n\t\t\t\t\t\tthis._tagStack.push(ElementType.Script);\n\t\t\t\t}\n\t\t\t\telse if (elementNameCI == \"/script\")\n\t\t\t\t\telement.type = ElementType.Script;\n\t\t\t\telse if (elementNameCI == \"style\") {\n\t\t\t\t\telement.type = ElementType.Style;\n\t\t\t\t\t//Special tag, push onto the tag stack if not terminated\n\t\t\t\t\tif (element.data.charAt(element.data.length - 1) != \"/\")\n\t\t\t\t\t\tthis._tagStack.push(ElementType.Style);\n\t\t\t\t}\n\t\t\t\telse if (elementNameCI == \"/style\")\n\t\t\t\t\telement.type = ElementType.Style;\n\t\t\t\tif (element.name && element.name.charAt(0) == \"/\")\n\t\t\t\t\telement.data = element.name;\n\t\t\t}\n\t\n\t\t\t//Add all tags and non-empty text elements to the element list\n\t\t\tif (element.raw != \"\" || element.type != ElementType.Text) {\n\t\t\t\tif (this._options.includeLocation && !element.location) {\n\t\t\t\t\telement.location = this.getLocation(element.type == ElementType.Tag);\n\t\t\t\t}\n\t\t\t\tthis.parseAttribs(element);\n\t\t\t\tthis._elements.push(element);\n\t\t\t\t//If tag self-terminates, add an explicit, separate closing tag\n\t\t\t\tif (\n\t\t\t\t\telement.type != ElementType.Text\n\t\t\t\t\t&&\n\t\t\t\t\telement.type != ElementType.Comment\n\t\t\t\t\t&&\n\t\t\t\t\telement.type != ElementType.Directive\n\t\t\t\t\t&&\n\t\t\t\t\telement.data.charAt(element.data.length - 1) == \"/\"\n\t\t\t\t\t)\n\t\t\t\t\tthis._elements.push({\n\t\t\t\t\t\t  raw: \"/\" + element.name\n\t\t\t\t\t\t, data: \"/\" + element.name\n\t\t\t\t\t\t, name: \"/\" + element.name\n\t\t\t\t\t\t, type: element.type\n\t\t\t\t\t});\n\t\t\t}\n\t\t\tthis._parseState = (tagSep == \"<\") ? ElementType.Tag : ElementType.Text;\n\t\t\tthis._current = this._next + 1;\n\t\t\tthis._prevTagSep = tagSep;\n\t\t}\n\n\t\tif (this._options.includeLocation) {\n\t\t\tthis.getLocation();\n\t\t\tthis._location.row += this._location.inBuffer;\n\t\t\tthis._location.inBuffer = 0;\n\t\t\tthis._location.charOffset = 0;\n\t\t}\n\t\tthis._buffer = (this._current <= bufferEnd) ? this._buffer.substring(this._current) : \"\";\n\t\tthis._current = 0;\n\t\n\t\tthis.writeHandler();\n\t}\n\n\tParser.prototype.getLocation = function Parser$getLocation (startTag) {\n\t\tvar c,\n\t\t\tl = this._location,\n\t\t\tend = this._current - (startTag ? 1 : 0),\n\t\t\tchunk = startTag && l.charOffset == 0 && this._current == 0;\n\t\t\n\t\tfor (; l.charOffset < end; l.charOffset++) {\n\t\t\tc = this._buffer.charAt(l.charOffset);\n\t\t\tif (c == '\\n') {\n\t\t\t\tl.inBuffer++;\n\t\t\t\tl.col = 0;\n\t\t\t} else if (c != '\\r') {\n\t\t\t\tl.col++;\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\t  line: l.row + l.inBuffer + 1\n\t\t\t, col: l.col + (chunk ? 0: 1)\n\t\t};\n\t}\n\n\t//Checks the handler to make it is an object with the right \"interface\"\n\tParser.prototype.validateHandler = function Parser$validateHandler (handler) {\n\t\tif ((typeof handler) != \"object\")\n\t\t\tthrow new Error(\"Handler is not an object\");\n\t\tif ((typeof handler.reset) != \"function\")\n\t\t\tthrow new Error(\"Handler method 'reset' is invalid\");\n\t\tif ((typeof handler.done) != \"function\")\n\t\t\tthrow new Error(\"Handler method 'done' is invalid\");\n\t\tif ((typeof handler.writeTag) != \"function\")\n\t\t\tthrow new Error(\"Handler method 'writeTag' is invalid\");\n\t\tif ((typeof handler.writeText) != \"function\")\n\t\t\tthrow new Error(\"Handler method 'writeText' is invalid\");\n\t\tif ((typeof handler.writeComment) != \"function\")\n\t\t\tthrow new Error(\"Handler method 'writeComment' is invalid\");\n\t\tif ((typeof handler.writeDirective) != \"function\")\n\t\t\tthrow new Error(\"Handler method 'writeDirective' is invalid\");\n\t}\n\n\t//Writes parsed elements out to the handler\n\tParser.prototype.writeHandler = function Parser$writeHandler (forceFlush) {\n\t\tforceFlush = !!forceFlush;\n\t\tif (this._tagStack.length && !forceFlush)\n\t\t\treturn;\n\t\twhile (this._elements.length) {\n\t\t\tvar element = this._elements.shift();\n\t\t\tswitch (element.type) {\n\t\t\t\tcase ElementType.Comment:\n\t\t\t\t\tthis._handler.writeComment(element);\n\t\t\t\t\tbreak;\n\t\t\t\tcase ElementType.Directive:\n\t\t\t\t\tthis._handler.writeDirective(element);\n\t\t\t\t\tbreak;\n\t\t\t\tcase ElementType.Text:\n\t\t\t\t\tthis._handler.writeText(element);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis._handler.writeTag(element);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tParser.prototype.handleError = function Parser$handleError (error) {\n\t\tif ((typeof this._handler.error) == \"function\")\n\t\t\tthis._handler.error(error);\n\t\telse\n\t\t\tthrow error;\n\t}\n\n//TODO: make this a trully streamable handler\nfunction RssHandler (callback) {\n\tRssHandler.super_.call(this, callback, { ignoreWhitespace: true, verbose: false, enforceEmptyTags: false });\n}\ninherits(RssHandler, DefaultHandler);\n\n\tRssHandler.prototype.done = function RssHandler$done () {\n\t\tvar feed = { };\n\t\tvar feedRoot;\n\n\t\tvar found = DomUtils.getElementsByTagName(function (value) { return(value == \"rss\" || value == \"feed\"); }, this.dom, false);\n\t\tif (found.length) {\n\t\t\tfeedRoot = found[0];\n\t\t}\n\t\tif (feedRoot) {\n\t\t\tif (feedRoot.name == \"rss\") {\n\t\t\t\tfeed.type = \"rss\";\n\t\t\t\tfeedRoot = feedRoot.children[0]; //<channel/>\n\t\t\t\tfeed.id = \"\";\n\t\t\t\ttry {\n\t\t\t\t\tfeed.title = DomUtils.getElementsByTagName(\"title\", feedRoot.children, false)[0].children[0].data;\n\t\t\t\t} catch (ex) { }\n\t\t\t\ttry {\n\t\t\t\t\tfeed.link = DomUtils.getElementsByTagName(\"link\", feedRoot.children, false)[0].children[0].data;\n\t\t\t\t} catch (ex) { }\n\t\t\t\ttry {\n\t\t\t\t\tfeed.description = DomUtils.getElementsByTagName(\"description\", feedRoot.children, false)[0].children[0].data;\n\t\t\t\t} catch (ex) { }\n\t\t\t\ttry {\n\t\t\t\t\tfeed.updated = new Date(DomUtils.getElementsByTagName(\"lastBuildDate\", feedRoot.children, false)[0].children[0].data);\n\t\t\t\t} catch (ex) { }\n\t\t\t\ttry {\n\t\t\t\t\tfeed.author = DomUtils.getElementsByTagName(\"managingEditor\", feedRoot.children, false)[0].children[0].data;\n\t\t\t\t} catch (ex) { }\n\t\t\t\tfeed.items = [];\n\t\t\t\tDomUtils.getElementsByTagName(\"item\", feedRoot.children).forEach(function (item, index, list) {\n\t\t\t\t\tvar entry = {};\n\t\t\t\t\ttry {\n\t\t\t\t\t\tentry.id = DomUtils.getElementsByTagName(\"guid\", item.children, false)[0].children[0].data;\n\t\t\t\t\t} catch (ex) { }\n\t\t\t\t\ttry {\n\t\t\t\t\t\tentry.title = DomUtils.getElementsByTagName(\"title\", item.children, false)[0].children[0].data;\n\t\t\t\t\t} catch (ex) { }\n\t\t\t\t\ttry {\n\t\t\t\t\t\tentry.link = DomUtils.getElementsByTagName(\"link\", item.children, false)[0].children[0].data;\n\t\t\t\t\t} catch (ex) { }\n\t\t\t\t\ttry {\n\t\t\t\t\t\tentry.description = DomUtils.getElementsByTagName(\"description\", item.children, false)[0].children[0].data;\n\t\t\t\t\t} catch (ex) { }\n\t\t\t\t\ttry {\n\t\t\t\t\t\tentry.pubDate = new Date(DomUtils.getElementsByTagName(\"pubDate\", item.children, false)[0].children[0].data);\n\t\t\t\t\t} catch (ex) { }\n\t\t\t\t\tfeed.items.push(entry);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tfeed.type = \"atom\";\n\t\t\t\ttry {\n\t\t\t\t\tfeed.id = DomUtils.getElementsByTagName(\"id\", feedRoot.children, false)[0].children[0].data;\n\t\t\t\t} catch (ex) { }\n\t\t\t\ttry {\n\t\t\t\t\tfeed.title = DomUtils.getElementsByTagName(\"title\", feedRoot.children, false)[0].children[0].data;\n\t\t\t\t} catch (ex) { }\n\t\t\t\ttry {\n\t\t\t\t\tfeed.link = DomUtils.getElementsByTagName(\"link\", feedRoot.children, false)[0].attribs.href;\n\t\t\t\t} catch (ex) { }\n\t\t\t\ttry {\n\t\t\t\t\tfeed.description = DomUtils.getElementsByTagName(\"subtitle\", feedRoot.children, false)[0].children[0].data;\n\t\t\t\t} catch (ex) { }\n\t\t\t\ttry {\n\t\t\t\t\tfeed.updated = new Date(DomUtils.getElementsByTagName(\"updated\", feedRoot.children, false)[0].children[0].data);\n\t\t\t\t} catch (ex) { }\n\t\t\t\ttry {\n\t\t\t\t\tfeed.author = DomUtils.getElementsByTagName(\"email\", feedRoot.children, true)[0].children[0].data;\n\t\t\t\t} catch (ex) { }\n\t\t\t\tfeed.items = [];\n\t\t\t\tDomUtils.getElementsByTagName(\"entry\", feedRoot.children).forEach(function (item, index, list) {\n\t\t\t\t\tvar entry = {};\n\t\t\t\t\ttry {\n\t\t\t\t\t\tentry.id = DomUtils.getElementsByTagName(\"id\", item.children, false)[0].children[0].data;\n\t\t\t\t\t} catch (ex) { }\n\t\t\t\t\ttry {\n\t\t\t\t\t\tentry.title = DomUtils.getElementsByTagName(\"title\", item.children, false)[0].children[0].data;\n\t\t\t\t\t} catch (ex) { }\n\t\t\t\t\ttry {\n\t\t\t\t\t\tentry.link = DomUtils.getElementsByTagName(\"link\", item.children, false)[0].attribs.href;\n\t\t\t\t\t} catch (ex) { }\n\t\t\t\t\ttry {\n\t\t\t\t\t\tentry.description = DomUtils.getElementsByTagName(\"summary\", item.children, false)[0].children[0].data;\n\t\t\t\t\t} catch (ex) { }\n\t\t\t\t\ttry {\n\t\t\t\t\t\tentry.pubDate = new Date(DomUtils.getElementsByTagName(\"updated\", item.children, false)[0].children[0].data);\n\t\t\t\t\t} catch (ex) { }\n\t\t\t\t\tfeed.items.push(entry);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.dom = feed;\n\t\t}\n\t\tRssHandler.super_.prototype.done.call(this);\n\t}\n\n///////////////////////////////////////////////////\n\nfunction DefaultHandler (callback, options) {\n\tthis.reset();\n\tthis._options = options ? options : { };\n\tif (this._options.ignoreWhitespace == undefined)\n\t\tthis._options.ignoreWhitespace = false; //Keep whitespace-only text nodes\n\tif (this._options.verbose == undefined)\n\t\tthis._options.verbose = true; //Keep data property for tags and raw property for all\n\tif (this._options.enforceEmptyTags == undefined)\n\t\tthis._options.enforceEmptyTags = true; //Don't allow children for HTML tags defined as empty in spec\n\tif ((typeof callback) == \"function\")\n\t\tthis._callback = callback;\n}\n\n\t//**\"Static\"**//\n\t//HTML Tags that shouldn't contain child nodes\n\tDefaultHandler._emptyTags = {\n\t\t  area: 1\n\t\t, base: 1\n\t\t, basefont: 1\n\t\t, br: 1\n\t\t, col: 1\n\t\t, frame: 1\n\t\t, hr: 1\n\t\t, img: 1\n\t\t, input: 1\n\t\t, isindex: 1\n\t\t, link: 1\n\t\t, meta: 1\n\t\t, param: 1\n\t\t, embed: 1\n\t}\n\t//Regex to detect whitespace only text nodes\n\tDefaultHandler.reWhitespace = /^\\s*$/;\n\n\t//**Public**//\n\t//Properties//\n\tDefaultHandler.prototype.dom = null; //The hierarchical object containing the parsed HTML\n\t//Methods//\n\t//Resets the handler back to starting state\n\tDefaultHandler.prototype.reset = function DefaultHandler$reset() {\n\t\tthis.dom = [];\n\t\tthis._done = false;\n\t\tthis._tagStack = [];\n\t\tthis._tagStack.last = function DefaultHandler$_tagStack$last () {\n\t\t\treturn(this.length ? this[this.length - 1] : null);\n\t\t}\n\t}\n\t//Signals the handler that parsing is done\n\tDefaultHandler.prototype.done = function DefaultHandler$done () {\n\t\tthis._done = true;\n\t\tthis.handleCallback(null);\n\t}\n\tDefaultHandler.prototype.writeTag = function DefaultHandler$writeTag (element) {\n\t\tthis.handleElement(element);\n\t} \n\tDefaultHandler.prototype.writeText = function DefaultHandler$writeText (element) {\n\t\tif (this._options.ignoreWhitespace)\n\t\t\tif (DefaultHandler.reWhitespace.test(element.data))\n\t\t\t\treturn;\n\t\tthis.handleElement(element);\n\t} \n\tDefaultHandler.prototype.writeComment = function DefaultHandler$writeComment (element) {\n\t\tthis.handleElement(element);\n\t} \n\tDefaultHandler.prototype.writeDirective = function DefaultHandler$writeDirective (element) {\n\t\tthis.handleElement(element);\n\t}\n\tDefaultHandler.prototype.error = function DefaultHandler$error (error) {\n\t\tthis.handleCallback(error);\n\t}\n\n\t//**Private**//\n\t//Properties//\n\tDefaultHandler.prototype._options = null; //Handler options for how to behave\n\tDefaultHandler.prototype._callback = null; //Callback to respond to when parsing done\n\tDefaultHandler.prototype._done = false; //Flag indicating whether handler has been notified of parsing completed\n\tDefaultHandler.prototype._tagStack = null; //List of parents to the currently element being processed\n\t//Methods//\n\tDefaultHandler.prototype.handleCallback = function DefaultHandler$handleCallback (error) {\n\t\t\tif ((typeof this._callback) != \"function\")\n\t\t\t\tif (error)\n\t\t\t\t\tthrow error;\n\t\t\t\telse\n\t\t\t\t\treturn;\n\t\t\tthis._callback(error, this.dom);\n\t}\n\t\n\tDefaultHandler.prototype.isEmptyTag = function(element) {\n\t\tvar name = element.name.toLowerCase();\n\t\tif (name.charAt(0) == '/') {\n\t\t\tname = name.substring(1);\n\t\t}\n\t\treturn this._options.enforceEmptyTags && !!DefaultHandler._emptyTags[name];\n\t};\n\t\n\tDefaultHandler.prototype.handleElement = function DefaultHandler$handleElement (element) {\n\t\tif (this._done)\n\t\t\tthis.handleCallback(new Error(\"Writing to the handler after done() called is not allowed without a reset()\"));\n\t\tif (!this._options.verbose) {\n//\t\t\telement.raw = null; //FIXME: Not clean\n\t\t\t//FIXME: Serious performance problem using delete\n\t\t\tdelete element.raw;\n\t\t\tif (element.type == \"tag\" || element.type == \"script\" || element.type == \"style\")\n\t\t\t\tdelete element.data;\n\t\t}\n\t\tif (!this._tagStack.last()) { //There are no parent elements\n\t\t\t//If the element can be a container, add it to the tag stack and the top level list\n\t\t\tif (element.type != ElementType.Text && element.type != ElementType.Comment && element.type != ElementType.Directive) {\n\t\t\t\tif (element.name.charAt(0) != \"/\") { //Ignore closing tags that obviously don't have an opening tag\n\t\t\t\t\tthis.dom.push(element);\n\t\t\t\t\tif (!this.isEmptyTag(element)) { //Don't add tags to the tag stack that can't have children\n\t\t\t\t\t\tthis._tagStack.push(element);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse //Otherwise just add to the top level list\n\t\t\t\tthis.dom.push(element);\n\t\t}\n\t\telse { //There are parent elements\n\t\t\t//If the element can be a container, add it as a child of the element\n\t\t\t//on top of the tag stack and then add it to the tag stack\n\t\t\tif (element.type != ElementType.Text && element.type != ElementType.Comment && element.type != ElementType.Directive) {\n\t\t\t\tif (element.name.charAt(0) == \"/\") {\n\t\t\t\t\t//This is a closing tag, scan the tagStack to find the matching opening tag\n\t\t\t\t\t//and pop the stack up to the opening tag's parent\n\t\t\t\t\tvar baseName = element.name.substring(1);\n\t\t\t\t\tif (!this.isEmptyTag(element)) {\n\t\t\t\t\t\tvar pos = this._tagStack.length - 1;\n\t\t\t\t\t\twhile (pos > -1 && this._tagStack[pos--].name != baseName) { }\n\t\t\t\t\t\tif (pos > -1 || this._tagStack[0].name == baseName)\n\t\t\t\t\t\t\twhile (pos < this._tagStack.length - 1)\n\t\t\t\t\t\t\t\tthis._tagStack.pop();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse { //This is not a closing tag\n\t\t\t\t\tif (!this._tagStack.last().children)\n\t\t\t\t\t\tthis._tagStack.last().children = [];\n\t\t\t\t\tthis._tagStack.last().children.push(element);\n\t\t\t\t\tif (!this.isEmptyTag(element)) //Don't add tags to the tag stack that can't have children\n\t\t\t\t\t\tthis._tagStack.push(element);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse { //This is not a container element\n\t\t\t\tif (!this._tagStack.last().children)\n\t\t\t\t\tthis._tagStack.last().children = [];\n\t\t\t\tthis._tagStack.last().children.push(element);\n\t\t\t}\n\t\t}\n\t}\n\n\tvar DomUtils = {\n\t\t  testElement: function DomUtils$testElement (options, element) {\n\t\t\tif (!element) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\tfor (var key in options) {\n\t\t\t\tif (key == \"tag_name\") {\n\t\t\t\t\tif (element.type != \"tag\" && element.type != \"script\" && element.type != \"style\") {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (!options[\"tag_name\"](element.name)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else if (key == \"tag_type\") {\n\t\t\t\t\tif (!options[\"tag_type\"](element.type)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else if (key == \"tag_contains\") {\n\t\t\t\t\tif (element.type != \"text\" && element.type != \"comment\" && element.type != \"directive\") {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (!options[\"tag_contains\"](element.data)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!element.attribs || !options[key](element.attribs[key])) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\treturn true;\n\t\t}\n\t\n\t\t, getElements: function DomUtils$getElements (options, currentElement, recurse, limit) {\n\t\t\trecurse = (recurse === undefined || recurse === null) || !!recurse;\n\t\t\tlimit = isNaN(parseInt(limit)) ? -1 : parseInt(limit);\n\n\t\t\tif (!currentElement) {\n\t\t\t\treturn([]);\n\t\t\t}\n\t\n\t\t\tvar found = [];\n\t\t\tvar elementList;\n\n\t\t\tfunction getTest (checkVal) {\n\t\t\t\treturn(function (value) { return(value == checkVal); });\n\t\t\t}\n\t\t\tfor (var key in options) {\n\t\t\t\tif ((typeof options[key]) != \"function\") {\n\t\t\t\t\toptions[key] = getTest(options[key]);\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (DomUtils.testElement(options, currentElement)) {\n\t\t\t\tfound.push(currentElement);\n\t\t\t}\n\n\t\t\tif (limit >= 0 && found.length >= limit) {\n\t\t\t\treturn(found);\n\t\t\t}\n\n\t\t\tif (recurse && currentElement.children) {\n\t\t\t\telementList = currentElement.children;\n\t\t\t} else if (currentElement instanceof Array) {\n\t\t\t\telementList = currentElement;\n\t\t\t} else {\n\t\t\t\treturn(found);\n\t\t\t}\n\t\n\t\t\tfor (var i = 0; i < elementList.length; i++) {\n\t\t\t\tfound = found.concat(DomUtils.getElements(options, elementList[i], recurse, limit));\n\t\t\t\tif (limit >= 0 && found.length >= limit) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn(found);\n\t\t}\n\t\t\n\t\t, getElementById: function DomUtils$getElementById (id, currentElement, recurse) {\n\t\t\tvar result = DomUtils.getElements({ id: id }, currentElement, recurse, 1);\n\t\t\treturn(result.length ? result[0] : null);\n\t\t}\n\t\t\n\t\t, getElementsByTagName: function DomUtils$getElementsByTagName (name, currentElement, recurse, limit) {\n\t\t\treturn(DomUtils.getElements({ tag_name: name }, currentElement, recurse, limit));\n\t\t}\n\t\t\n\t\t, getElementsByTagType: function DomUtils$getElementsByTagType (type, currentElement, recurse, limit) {\n\t\t\treturn(DomUtils.getElements({ tag_type: type }, currentElement, recurse, limit));\n\t\t}\n\t}\n\n\tfunction inherits (ctor, superCtor) {\n\t\tvar tempCtor = function(){};\n\t\ttempCtor.prototype = superCtor.prototype;\n\t\tctor.super_ = superCtor;\n\t\tctor.prototype = new tempCtor();\n\t\tctor.prototype.constructor = ctor;\n\t}\n\nexports.Parser = Parser;\n\nexports.DefaultHandler = DefaultHandler;\n\nexports.RssHandler = RssHandler;\n\nexports.ElementType = ElementType;\n\nexports.DomUtils = DomUtils;\n\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/htmlparser/lib/htmlparser.js\n// module id = 10\n// module chunks = 0","/************************ \r\n * Author: DZ Chan \r\n * Date:   2017-08-12 \r\n ************************/\r\n\r\nimport {Window} from \"../Windows/Window\"\r\nimport style from \"../stylesheets/textEditor.scss\"\r\n\r\nconst template = `<div class=\"text-editor\">\r\n    <div class=\"toolbar\">\r\n        <span class=\"btn\"><i class=\"fa fa-file-text-o\" aria-hidden=\"true\"></i></span>\r\n        <span class=\"btn\"><i class=\"fa fa-floppy-o\" aria-hidden=\"true\"></i></span>\r\n    </div>\r\n    <textarea class=\"real-editor\"></textarea>\r\n</div>`\r\n\r\nexport class TextEditor extends Window {\r\n\r\n    constructor(wm) {\r\n        super(wm);\r\n        this.Slot('default', this.RenderTemplate(template));\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/TextEditor/TextEditor.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./textEditor.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./textEditor.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./textEditor.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/stylesheets/textEditor.scss\n// module id = 12\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".text-editor .toolbar {\\n  height: 20px; }\\n  .text-editor .toolbar .btn {\\n    margin: 2px; }\\n  .text-editor .toolbar .btn:hover {\\n    background: lightblue; }\\n\\n.text-editor .real-editor {\\n  height: 260px;\\n  width: 396px; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/sass-loader/lib/loader.js!./src/stylesheets/textEditor.scss\n// module id = 13\n// module chunks = 0","/************************ \r\n * Author: DZ Chan \r\n * Date:   2017-08-12 \r\n ************************/\r\n\r\nimport {Window} from \"../Windows/Window.js\"\r\nimport {FileItem} from \"./FileItem.js\"\r\n\r\nconst template = `<div class=\"pathContainer\">\r\n    <input type=\"text\" />\r\n    <div class=\"itemContainer unselectable\" ref=\"fileContainer\">\r\n    </div>\r\n</div>`\r\n\r\nexport class FileWindow extends Window {\r\n\r\n    constructor(wm) {\r\n        super(wm);\r\n        this.Slot('default', this.RenderTemplate(template))\r\n\r\n        let fi1 = new FileItem();\r\n        fi1.fileType = \"text\";\r\n        fi1.filename = \"text1.txt\";\r\n        let fi2 = new FileItem();\r\n        fi2.fileType = \"folder\";\r\n        fi2.filename = \"abc\";\r\n\r\n        this.$refs.fileContainer.appendChild(fi1.dom);\r\n        this.$refs.fileContainer.appendChild(fi2.dom);\r\n    }\r\n\r\n    render() {\r\n        const style = {\r\n            height: 260 + \"px\",\r\n        };\r\n        return null;\r\n    }\r\n\r\n    inputPathChanged(event) {\r\n        this.setState({\r\n            path: event.target.value\r\n        });\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Files/FileWindow.js","/************************ \r\n * Author: DZ Chan \r\n * Date:   2017-08-12 \r\n ************************/\r\n\r\nimport style from \"../stylesheets/file.scss\"\r\nimport {Component} from \"../Windows/Window\"\r\n\r\nconst template = `<div class=\"file-item\">\r\n    <img ref=\"iconimg\" class=\"file-icon undraggable\" />\r\n    <p class=\"filename\" ref=\"filename\"></p>\r\n</div>`\r\n\r\nexport class FileItem extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this._dom = this.RenderTemplate(template);\r\n    }\r\n\r\n    get fileType() {\r\n        return this._fileType;\r\n    }\r\n\r\n    set fileType(value) {\r\n        this._fileType = value;\r\n\r\n        if (this._fileType == \"folder\") {\r\n            this.$refs.iconimg.setAttribute(\"src\", \"assets/images/Folder-icon.png\");\r\n        } else {\r\n            this.$refs.iconimg.setAttribute(\"src\", \"assets/images/Text-Document-icon.png\");\r\n        }\r\n    }\r\n\r\n    get filename() {\r\n        return this._filename;\r\n    }\r\n\r\n    set filename(value) {\r\n        this._filename = value;\r\n        this.$refs.filename.innerText = value;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Files/FileItem.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./file.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./file.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./file.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/stylesheets/file.scss\n// module id = 16\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".file-item {\\n  display: inline-block;\\n  width: 100px;\\n  cursor: default; }\\n  .file-item .file-icon {\\n    width: 100px;\\n    height: 100px; }\\n  .file-item .filename {\\n    color: grey;\\n    margin: 0px;\\n    text-align: center; }\\n\\n.file-item:hover {\\n  background: lightblue; }\\n\\n.itemContainer {\\n  overflow-y: scroll; }\\n\\n.pathContainer {\\n  width: 100%; }\\n  .pathContainer input {\\n    width: 99%; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/sass-loader/lib/loader.js!./src/stylesheets/file.scss\n// module id = 17\n// module chunks = 0","/************************ \r\n * Author: DZ Chan \r\n * Date:   2017-08-12 \r\n ************************/\r\n\r\nimport {Window} from \"../Windows/Window.js\"\r\nimport style from \"../stylesheets/programExecutor.scss\"\r\n\r\nconst template = `<div ref=\"frame\" class=\"program-executor\">\r\n    <div class=\"toolbar unselectable\">\r\n        <div ref=\"runBtn\" class=\"item\">\r\n            <img class=\"undraggable\" src=\"assets/images/exe/run.png\" />\r\n        </div>\r\n        <div ref=\"pauseBtn\" class=\"item\">\r\n            <img class=\"undraggable\" src=\"assets/images/exe/pause.png\" />\r\n        </div>\r\n        <div ref=\"stopBtn\" class=\"item\">\r\n            <img class=\"undraggable\" src=\"assets/images/exe/stop.png\" />\r\n        </div>\r\n        <div ref=\"stepForwardBtn\" class=\"item\">\r\n            <img class=\"undraggable\" src=\"assets/images/exe/step-forward.png\" />\r\n        </div>\r\n    </div>\r\n    <div class=\"main-table row\" ref=\"programFrame\">\r\n        <div class=\"col-8 code-area\">\r\n            <div class=\"line\">\r\n                <div class=\"gutter unselectable\">1</div>\r\n                <div class=\"content\">ADD R1, 3, 2</div>\r\n            </div>\r\n            <div class=\"line\">\r\n                <div class=\"gutter unselectable\">2</div>\r\n                <div class=\"content\">ADD 3</div>\r\n            </div>\r\n            <div class=\"line\">\r\n                <div class=\"gutter unselectable\">3</div>\r\n                <div class=\"content\"></div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-4 watcher\">\r\n            <div class=\"variable-area\" ref=\"variableArea\">\r\n                <div class=\"title unselectable\">Variable Watcher</div>\r\n                <div class=\"content\">\r\n                    <div><span class=\"variable\">a</span>: 3</div>\r\n                    <div><span class=\"variable\">a</span>: 3</div>\r\n                    <div><span class=\"variable\">a</span>: 3</div>\r\n                </div>\r\n            </div>\r\n            <div class=\"constant-area\" ref=\"variableArea\">\r\n                <div class=\"title unselectable\">Constant Watcher</div>\r\n                <div class=\"content\">\r\n                    <div><span class=\"variable\">a</span>: 3</div>\r\n                    <div><span class=\"variable\">a</span>: 3</div>\r\n                    <div><span class=\"variable\">a</span>: 3</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>`\r\n\r\nconst source_code = `\r\nADD     R1,  1,  1\r\nADD     R2, R1,  1\r\nLOAD    R3, R2,  0\r\nSTORE   R1, R3,  0\r\n`\r\n\r\nexport class ProgramExecutor extends Window {\r\n\r\n    constructor(wm) {\r\n        super(wm);\r\n        this.Slot('default', this.RenderTemplate(template));\r\n        this.width = 640;\r\n        this.height = 480;\r\n\r\n        this.$refs.frame.style.height = this.height - 16 + 'px';\r\n        this.$refs.programFrame.style.height = this.height - 16 - 48 + 'px';\r\n\r\n        this.$refs.runBtn.addEventListener('click', (e) => this.onRunClicked(e));\r\n        this.$refs.pauseBtn.addEventListener('click', (e) => this.onPauseClicked(e));\r\n        this.$refs.stopBtn.addEventListener('click', (e) => this.onStopClicked(e));\r\n        this.$refs.stepForwardBtn.addEventListener('click', (e) => this.onStepForwardClicked(e));\r\n\r\n        this.title = \"Program Executor\";\r\n    }\r\n\r\n    onRunClicked(event) {\r\n\r\n    }\r\n\r\n    onPauseClicked(event) {\r\n\r\n    }\r\n\r\n    onStopClicked(event) {\r\n\r\n    }\r\n\r\n    onStepForwardClicked(event) {\r\n\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/ProgramExecutor/ProgramExecutor.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./programExecutor.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./programExecutor.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./programExecutor.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/stylesheets/programExecutor.scss\n// module id = 19\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".program-executor .toolbar {\\n  height: 48px; }\\n  .program-executor .toolbar .item {\\n    display: inline-block; }\\n    .program-executor .toolbar .item img {\\n      width: 48px;\\n      height: 48px; }\\n  .program-executor .toolbar .item:hover {\\n    background: lightblue; }\\n\\n.program-executor .line {\\n  height: 18px; }\\n  .program-executor .line .gutter {\\n    display: inline-block;\\n    background-color: lightgrey;\\n    width: 52px;\\n    text-align: right;\\n    padding-right: 8px; }\\n  .program-executor .line .content {\\n    display: inline-block;\\n    padding-left: 16px; }\\n\\n.program-executor .watcher {\\n  height: 99%; }\\n  .program-executor .watcher .title {\\n    font-size: 14px;\\n    padding-top: 2px;\\n    padding-bottom: 2px;\\n    padding-left: 4px;\\n    padding-right: 4px;\\n    background-color: lightgrey; }\\n  .program-executor .watcher .content {\\n    padding: 4px; }\\n  .program-executor .watcher .variable {\\n    color: #6161FF;\\n    cursor: default; }\\n  .program-executor .watcher .variable:hover {\\n    text-decoration: underline; }\\n\\n.program-executor .variable-area {\\n  height: 60%; }\\n\\n.program-executor .constant-area {\\n  height: 40%; }\\n\\n.program-executor .code-area {\\n  height: 99%;\\n  overflow-y: scroll; }\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/sass-loader/lib/loader.js!./src/stylesheets/programExecutor.scss\n// module id = 20\n// module chunks = 0","/************************ \n * Author: DZ Chan \n * Date:   2017-08-12 \n ************************/\n\nconst resources = \"トーマス・アンダーソンは、大手ソフトウェア会社のメタ・コーテックス[3]に勤めるプログラマである。しかし、トーマスにはあらゆるコンピュータ犯罪を起こす天才ハッカー[4]ネオという、もう1つの顔があった。平凡な日々を送っていたトーマスは、ここ最近、起きているのに夢を見ているような感覚に悩まされ「今生きているこの世界は、もしかしたら夢なのではないか」という、漠然とした違和感を抱いていたが、それを裏付ける確証も得られず毎日を過ごしていた。\" +\n\"ある日、トーマスは「起きろ、ネオ」「マトリックスが見ている」「白ウサギについて行け」という謎のメールを受け取る。ほどなくしてトリニティと名乗る謎の女性と出会ったトーマスは、トリニティの仲間のモーフィアスを紹介され「貴方が生きているこの世界は、コンピュータによって作られた仮想現実だ」と告げられ、このまま仮想現実で生きるか、現実の世界で目覚めるかの選択を迫られる。日常の違和感に悩まされていたトーマスは現実の世界で目覚める事を選択する。次の瞬間、トーマスは自分が培養槽のようなカプセルの中に閉じ込められ、身動きもできない状態であることに気付く。トリニティ達の言ったことは真実で、現実の世界はコンピュータの反乱[5]によって人間社会が崩壊し、人間の大部分はコンピュータの動力源として培養されていた。覚醒してしまったトーマスは不良品として廃棄されるが、待ち構えていたトリニティとモーフィアスに救われた。\" +\n\"トーマスは、モーフィアスが船長を務める工作船「ネブカドネザル号」の仲間として迎えられ、ハッカーとして使っていた名前「ネオ」を名乗ることになった。モーフィアスはネオこそがコンピュータの支配を打ち破る救世主であると信じており、仮想空間での身体の使い方や、拳法などの戦闘技術を習得させた。人類の抵抗軍の一員となったネオは、仮想空間と現実を行き来しながら、人類をコンピュータの支配から解放する戦いに身を投じる事になった。\" +\n\"《黑客帝国》（英语：The Matrix）是一部1999年的好莱坞科幻电影，由沃卓斯基姐妹执导，基努·里维斯、劳伦斯·菲什伯恩、凯莉·安摩丝及雨果·威文等人主演，并由香港电影界的袁和平担任武术指导。此片以其独到的哲学和子弹时间的特殊慢镜头及各式电脑特效著名，在全球获取亮眼票房，并在2003年，推出续集《黑客帝国2：重装上阵》及第三集《黑客帝国3：矩阵革命》\";\n\nfunction ShuffleString(str, len) {\n    let result = \"\";\n    let str_len = str.length;\n    for (let i = 0; i < len; i++) {\n        let rd = Math.round(Math.random(new Date()) * str_len);\n        result += str[rd];\n    }\n    return result;\n}\n\nconst total_level = 128;\nconst black_level = 72;\n\nexport class VirtualLine {\n\n    constructor(x_offset, width, height, font_width, font_height) {\n        this._x_offset = x_offset;\n        this._width = width;\n        this._height = height;\n\n        this._font_width = font_width;\n        this._font_height = font_height;\n\n        this._content = ShuffleString(resources, total_level);\n\n        this._tick = total_level;\n        this._offset_step = Math.round(Math.random() * total_level);\n    }\n\n    paint(ctx, deltaTime) {\n        const text_length = Math.ceil(this._height / this._font_height);\n        for (let i = 0; i < text_length; i++) {\n            const absolute_level = (i + this._offset_step - this._tick) % total_level + total_level;\n            if (absolute_level > black_level) {\n                const color_level = absolute_level - black_level;\n                const green_level = Math.round((color_level / (total_level - black_level)) * 255);\n                if (green_level === 255) {\n                    ctx.shadowColor = \"white\";\n                    ctx.shadowOffsetX = 0;\n                    ctx.shadowOffsetY = 0;\n                    ctx.shadowBlur = 10;\n                    ctx.fillStyle = \"rgb(20,\" + green_level.toString() + \",20)\"; \n                } else {\n                    ctx.shadowBlur = 0;\n                    ctx.fillStyle = \"rgb(0,\" + green_level.toString() + \",0)\"; \n                }\n                ctx.fillText(this._content[i], this._x_offset, i * this._font_height);\n            }\n        }\n        this._tick++;\n\n        const test_level = (this._offset_step - this._tick) % total_level + total_level;\n        if (test_level === 1) {\n            this._content = ShuffleString(resources, total_level);\n        }\n        /*\n        if (this._tick % this._offset_step === 0) {\n            this._content = ShuffleString(resources);\n        }\n        */\n    }\n\n    get x_offset() {\n        return this._x_offset;\n    }\n\n    get width() {\n        return this._width;\n    }\n\n    set width(value) {\n        this._width = value;\n    }\n\n    get height() {\n        return this._height;\n    }\n\n    set height(value) {\n        this._height = value;\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/VirtualLine.js"],"sourceRoot":""}